<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>js原生DIV拖曳-jq22.com</title>
<script src="http://libs.baidu.com/jquery/1.11.3/jquery.min.js"></script>
<style>
</style>
</head>
<body>
<div style="width: 100px; height: 100px; background-color: darkgray; position:absolute;left: 0px; top: 0px;" id="oDiv"></div>

<script>
 window.onload = function() {
     //拖曳函数
     function tuoyeById(id) {

         var oDiv = document.getElementById(id);
         var disX = 0,
             disY = 0;
         oDiv.onmousedown = function(ev) {
             var oEvent = ev || event;
             disX = oEvent.clientX - oDiv.offsetLeft;
             disY = oEvent.clientY - oDiv.offsetTop;
             document.onmousemove = function(ev) {
                 var oEvent = ev || event;
                 var l = oEvent.clientX - disX;
                 var t = oEvent.clientY - disY;
                 console.log(l);
                 if (l <= 0) {
                     l = 0
                 }
                 if (t < 0) {
                     t = 0
                 }
                 if (l > document.documentElement.clientWidth - oDiv.offsetWidth) {
                     l = document.documentElement.clientWidth - oDiv.offsetWidth;
                 }
                 if (t > document.documentElement.clientHeight - oDiv.offsetHeight) {
                     t = document.documentElement.clientHeight - oDiv.offsetHeight;
                 }
                 oDiv.style.left = l + 'px';
                 oDiv.style.top = t + 'px';
             }

             document.onmouseup = function(ev) {
                 document.onmousemove = null;
                 document.onmouseup = null;
             }

         }
     }
     tuoyeById("oDiv");
 }
</script>

</body>
</html>
